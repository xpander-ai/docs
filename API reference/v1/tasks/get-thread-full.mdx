---
title: "Get Task Thread (Full)"
openapi: "GET /v1/tasks/{task_id}/thread/full"
description: "Get complete conversation thread including all sub-tasks"
---

Retrieve the complete conversation thread for a task including all messages from the root task and all sub-tasks. This endpoint is particularly useful for debugging multi-agent workflows.

## Path Parameters

<ParamField path="task_id" type="string" required>
  Unique identifier of the task (UUID format)
</ParamField>

## Response

Returns a nested object containing conversation threads:

<ResponseField name="root" type="array">
  Array of messages from the root task
  <Expandable title="Message Object">
    <ResponseField name="id" type="string">
      Unique message identifier
    </ResponseField>
    <ResponseField name="role" type="string">
      Message role: `user`, `assistant`, `system`, `tool`
    </ResponseField>
    <ResponseField name="content" type="string">
      Message content
    </ResponseField>
    <ResponseField name="created_at" type="integer">
      Unix timestamp of message creation
    </ResponseField>
    <ResponseField name="tool_calls" type="array">
      Array of tool invocations (if any)
    </ResponseField>
    <ResponseField name="metrics" type="object">
      Token usage and performance metrics
      <Expandable title="Metrics Object">
        <ResponseField name="input_tokens" type="integer">
          Number of input tokens
        </ResponseField>
        <ResponseField name="output_tokens" type="integer">
          Number of output tokens
        </ResponseField>
        <ResponseField name="total_tokens" type="integer">
          Total tokens used
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="[sub_task_id]" type="array">
  For each sub-task, an array of messages with the same structure as root
</ResponseField>

## Example Request

```bash
curl -X GET -H "x-api-key: YOUR_API_KEY" \
  https://api.xpander.ai/v1/tasks/de5dd8c6-abb8-4528-a157-ada21801a91c/thread/full
```

## Example Response

```json
{
  "root": [
    {
      "id": "3f4bd194-8c34-4ac5-9e39-9d5dc18999e3",
      "role": "user",
      "content": "my ssn is 305071607",
      "name": null,
      "tool_call_id": null,
      "tool_calls": null,
      "audio": null,
      "images": null,
      "videos": null,
      "files": null,
      "audio_output": null,
      "image_output": null,
      "video_output": null,
      "file_output": null,
      "redacted_reasoning_content": null,
      "provider_data": null,
      "citations": null,
      "reasoning_content": null,
      "tool_name": null,
      "tool_args": null,
      "tool_call_error": null,
      "stop_after_tool_call": false,
      "add_to_agent_memory": true,
      "from_history": false,
      "metrics": {
        "input_tokens": 0,
        "output_tokens": 0,
        "total_tokens": 0,
        "audio_input_tokens": 0,
        "audio_output_tokens": 0,
        "audio_total_tokens": 0,
        "cache_read_tokens": 0,
        "cache_write_tokens": 0,
        "reasoning_tokens": 0,
        "timer": null,
        "time_to_first_token": null,
        "duration": null,
        "provider_metrics": null,
        "additional_metrics": null
      },
      "references": null,
      "created_at": 1762414336
    },
    {
      "id": "c7fcc879-2279-4da5-b65d-779584b85678",
      "role": "assistant",
      "content": "‚ö†Ô∏è Hi xpander! For your safety and privacy, please avoid sharing sensitive information like your Social Security Number (SSN) online or in public chats. If you need help with something specific, let me know‚ÄîI'm here to assist! üòäüîí",
      "name": null,
      "tool_call_id": null,
      "tool_calls": null,
      "audio": null,
      "images": null,
      "videos": null,
      "files": null,
      "audio_output": null,
      "image_output": null,
      "video_output": null,
      "file_output": null,
      "redacted_reasoning_content": null,
      "provider_data": null,
      "citations": null,
      "reasoning_content": null,
      "tool_name": null,
      "tool_args": null,
      "tool_call_error": null,
      "stop_after_tool_call": false,
      "add_to_agent_memory": true,
      "from_history": false,
      "metrics": {
        "input_tokens": 618,
        "output_tokens": 54,
        "total_tokens": 672,
        "audio_input_tokens": 0,
        "audio_output_tokens": 0,
        "audio_total_tokens": 0,
        "cache_read_tokens": 0,
        "cache_write_tokens": 0,
        "reasoning_tokens": 0,
        "timer": null,
        "time_to_first_token": null,
        "duration": null,
        "provider_metrics": null,
        "additional_metrics": null
      },
      "references": null,
      "created_at": 1762414336
    }
  ]
}
```

## Use Cases

- **Debug multi-agent workflows** - See the complete execution tree
- **Analyze token usage** - Track token consumption across all sub-tasks
- **Audit conversations** - Review complete interaction history
- **Performance analysis** - Measure response times and token efficiency

## Notes

- This endpoint includes all sub-tasks spawned by the root task
- Each sub-task has its own message array keyed by task ID
- The `root` key always contains the main task's conversation
- Token metrics help track LLM API costs

## Comparison with /thread Endpoint

| Feature | /thread | /thread/full |
|---------|---------|--------------|
| Root task messages | ‚úÖ | ‚úÖ |
| Sub-task messages | ‚ùå | ‚úÖ |
| Token metrics | ‚úÖ | ‚úÖ |
| Tool call details | ‚úÖ | ‚úÖ |
| Response structure | Simple array | Nested object |

**Recommendation:** Use `/thread/full` when you need to see sub-task execution details in multi-agent workflows.

## See Also

- [Get Task Thread](/API reference/v1/tasks/get-thread) - Get thread for root task only (currently has issues)
- [Get Task](/API reference/v1/tasks/get-task) - Get task details and status
- [List Tasks](/API reference/v1/tasks/list-tasks) - List all tasks
