---
title: "Get Task Thread"
openapi: "GET /v1/tasks/{task_id}/thread"
description: "Get task's conversation thread and message history"
---

Retrieve the complete conversation thread for a task, including all messages and agent responses.

## Path Parameters

<ParamField path="task_id" type="string" required>
  Unique identifier of the task (UUID format)
</ParamField>

## Response

Returns an array of message objects representing the conversation thread:

<ResponseField name="[array]" type="array">
  Array of conversation messages
  <Expandable title="Message Object">
    <ResponseField name="id" type="string">
      Unique message identifier
    </ResponseField>
    <ResponseField name="role" type="string">
      Message role: `user`, `assistant`, `system`, `tool`
    </ResponseField>
    <ResponseField name="content" type="string">
      Message content
    </ResponseField>
    <ResponseField name="created_at" type="integer">
      Unix timestamp of message creation
    </ResponseField>
    <ResponseField name="tool_calls" type="array">
      Array of tool invocations (if any)
    </ResponseField>
    <ResponseField name="metrics" type="object">
      Token usage and performance metrics
      <Expandable title="Metrics Object">
        <ResponseField name="input_tokens" type="integer">
          Number of input tokens
        </ResponseField>
        <ResponseField name="output_tokens" type="integer">
          Number of output tokens
        </ResponseField>
        <ResponseField name="total_tokens" type="integer">
          Total tokens used
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

## Example Request

```bash
curl -X GET -H "x-api-key: YOUR_API_KEY" \
  https://api.xpander.ai/v1/tasks/60ce6693-9c4d-45a0-a675-76cd8cbefbac/thread
```

## Example Response

```json
[
  {
    "id": "ad8a9e63-e23c-41ec-9b6a-efb472d51fbc",
    "role": "user",
    "content": "What is 5+5?",
    "name": null,
    "tool_call_id": null,
    "tool_calls": null,
    "audio": null,
    "images": null,
    "videos": null,
    "files": null,
    "audio_output": null,
    "image_output": null,
    "video_output": null,
    "file_output": null,
    "redacted_reasoning_content": null,
    "provider_data": null,
    "citations": null,
    "reasoning_content": null,
    "tool_name": null,
    "tool_args": null,
    "tool_call_error": null,
    "stop_after_tool_call": false,
    "add_to_agent_memory": true,
    "from_history": false,
    "metrics": {
      "input_tokens": 0,
      "output_tokens": 0,
      "total_tokens": 0,
      "audio_input_tokens": 0,
      "audio_output_tokens": 0,
      "audio_total_tokens": 0,
      "cache_read_tokens": 0,
      "cache_write_tokens": 0,
      "reasoning_tokens": 0,
      "timer": null,
      "time_to_first_token": null,
      "duration": null,
      "provider_metrics": null,
      "additional_metrics": null
    },
    "references": null,
    "created_at": 1762463339
  },
  {
    "id": "9c4313f6-b8f0-48aa-9b5c-478ac60104aa",
    "role": "assistant",
    "content": "5 + 5 = 10",
    "name": null,
    "tool_call_id": null,
    "tool_calls": null,
    "audio": null,
    "images": null,
    "videos": null,
    "files": null,
    "audio_output": null,
    "image_output": null,
    "video_output": null,
    "file_output": null,
    "redacted_reasoning_content": null,
    "provider_data": null,
    "citations": null,
    "reasoning_content": null,
    "tool_name": null,
    "tool_args": null,
    "tool_call_error": null,
    "stop_after_tool_call": false,
    "add_to_agent_memory": true,
    "from_history": false,
    "metrics": {
      "input_tokens": 296,
      "output_tokens": 8,
      "total_tokens": 304,
      "audio_input_tokens": 0,
      "audio_output_tokens": 0,
      "audio_total_tokens": 0,
      "cache_read_tokens": 0,
      "cache_write_tokens": 0,
      "reasoning_tokens": 0,
      "timer": null,
      "time_to_first_token": null,
      "duration": null,
      "provider_metrics": null,
      "additional_metrics": null
    },
    "references": null,
    "created_at": 1762463339
  }
]
```

## Use Cases

- **View conversation history** - See the complete interaction between user and agent
- **Track token usage** - Monitor LLM API costs per message
- **Debug agent responses** - Analyze what the agent said and why
- **Audit conversations** - Review interaction history for compliance

## Notes

- Returns only the root task's messages (excludes sub-tasks)
- For multi-agent workflows with sub-tasks, use [Get Task Thread (Full)](/API reference/v1/tasks/get-thread-full)
- Token metrics help track LLM API costs per message